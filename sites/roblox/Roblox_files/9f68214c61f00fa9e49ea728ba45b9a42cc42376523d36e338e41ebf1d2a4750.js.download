!function(){var r={7544:function(e,n,r){var t={"./experimentationConstants.js":9433,"./loginConstants.js":3170};function i(e){e=o(e);return r(e)}function o(e){if(r.o(t,e))return t[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(t)},i.resolve=o,(e.exports=i).id=7544},8126:function(e,n,r){var t={"./loginController.js":8481,"./loginFormController.js":2350,"./verifyEmailController.js":6024};function i(e){e=o(e);return r(e)}function o(e){if(r.o(t,e))return t[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(t)},i.resolve=o,(e.exports=i).id=8126},5286:function(e,n,r){var t={"./loginBaseDirective.js":5008,"./loginFormDirective.js":5578};function i(e){e=o(e);return r(e)}function o(e){if(r.o(t,e))return t[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(t)},i.resolve=o,(e.exports=i).id=5286},6474:function(e,n,r){var t={"./experimentationService.js":5387,"./loginService.js":4260};function i(e){e=o(e);return r(e)}function o(e){if(r.o(t,e))return t[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(t)},i.resolve=o,(e.exports=i).id=6474},3599:function(e,n,r){var t={"./controllers/templates/verifyEmail.html":1518,"./directives/templates/loginBase.html":5686,"./directives/templates/loginForm.html":367};function i(e){e=o(e);return r(e)}function o(e){if(r.o(t,e))return t[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return Object.keys(t)},i.resolve=o,(e.exports=i).id=3599},726:function(e){function o(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function a(e){return e.split("/").pop().replace(".html","")}var n={importFilesUnderPath:function(e){e.keys().forEach(e)},templateCacheGenerator:function(e,n,t,i){return e.module(n,[]).run(["$templateCache",function(r){t&&t.keys().forEach(function(e){var n=o(a(e));r.put(n,t(e))}),i&&i.keys().forEach(function(e){var n=o(a(e));r.put(n,i(e).replace(/<\/?script[^>]*>/gi,""))})}])}};e.exports=n},9433:function(e,n,r){"use strict";r.r(n),n.default={Login:{Layer:"Website.Login",Parameters:["CrossDeviceButtonText"]},InvalidCredentials:{Layer:"Website.Login.InvalidCredentials",Parameters:["CrossDeviceLoginFailLimit","CrossDeviceLoginFailErrorText"]}}},3170:function(e,n,r){"use strict";r.r(n);var t={urls:{metaData:"/login/meta-data",metaDataV2:"/v2/metadata",loginApi:"/v2/login",credentialsVerificationApi:"/v2/credentials/verification",credentialsVerificationSendApi:"/v2/credentials/verification/send",loginCaptchaApi:"/captcha/validate/login",twoStepVerification:"/login/twostepverification",forgotCredentials:"/login/forgot-password-or-username",games:"/discover",home:"/home",login:"/login",redirectToFb:"/social/redirect-to-facebook",signUpRedirect:"/account/signupredir",authTokenMetadata:"/auth-token-service/v1/login/metadata",koreaIdVerification:"/id-verification/korea/login"},templates:{verifyEmail:"verify-email"},controllers:{verifyEmail:"verifyEmailController"},errorCodes:{unknownError:0,badCredentials:1,captcha:2,accountNotFound:3,passwordResetRequired:4,noPassword:5,accountIssue:6,tooManyAttempts:7,defaultLoginRequired:9,unverifiedCredentials:10,captchaLoadFailed:11,captchaVerifyFailed:12,captchaUnknownError:13,luoBuUserDenied:14,screentimeRestricted:16,securityQuestionRequired:18,securityQuestionFailed:19},sendVerificationEmailErrorCodes:{tooManyAttempts:2},statusCodes:{flooded:429},retryAttempts:{maxInvalidatedChallengeAttempts:3},credentialTypes:{username:"Username",email:"Email",phone:"PhoneNumber",authToken:"AuthToken"},urlQueryNames:{errorCode:"errorCode",cType:"ctype",username:"username"},counters:{prefix:"WebsiteLogin_",firstAttempt:"FirstAttempt",attempt:"Attempt",success:"Success",captcha:"Captcha",passwordResetRequired:"PasswordResetRequired",unverifiedAccount:"UnverifiedAccount",invalidCredentials:"InvalidCredentials",accountNotFound:"AccountNotFound",noPassword:"NoPassword",accountIssue:"AccountIssue",tooManyAttempts:"TooManyAttempts",defaultLoginRequired:"DefaultLoginRequired",redirectToLogin:"RedirectToLogin",captchaLoadFailed:"CaptchaLoadFailed",captchaVerifyFailed:"CaptchaVerifyFailed",captchaUnknownError:"CaptchaUnknownError",luoBuUserDenied:"LuoBuUserDenied",screentimeRestricted:"ScreenTimeRestricted",unknownError:"UnknownError"},newLoginQueryString:"nl=true",loginSubmitButtonName:"loginSubmit",quickLoginButtonName:"loginOtherDevice",fbLoginButtonName:"fbLoginSubmit",landingContext:"landing",atSymbol:"@",verifyEmailContextSuffix:"_verifyEmail",securityQuestionsModalContainerId:"securityQuestionsModal-container"};r(1030).Z.constant("loginConstants",t),n.default=t},8481:function(e,n,r){"use strict";r.r(n);var t=r(1030),a=r(792);function i(n,r,t,i,e){var o=a.EnvironmentUrls.websiteUrl+e.urls.signUpRedirect;n.loginData={signUpUrl:o},n.init=function(){a.Popover&&a.Popover.init();var e=t.getReturnUrl();e&&n.appendReturnUrlToSignUpUrl(e)},n.appendReturnUrlToSignUpUrl=function(e){e&&(e={returnUrl:e},e=i.urlQueryStringPrefix+r(e),n.loginData.signUpUrl=o+e)},n.init()}i.$inject=["$scope","$httpParamSerializerJQLike","loginService","urlConstants","loginConstants"],t.Z.controller("loginController",i),n.default=i},2350:function(e,n,r){"use strict";r.r(n);var t=r(5734),p=r.n(t),f=r(792),t=r(1030),v=r(5387),y=r(9433);function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],t=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(t=(a=s.next()).done)&&(r.push(a.value),!n||r.length!==n);t=!0);}catch(e){i=!0,o=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return i(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function l(e,n,r,t,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?n(l):Promise.resolve(l).then(t,i)}function C(s){return function(){var e=this,a=arguments;return new Promise(function(n,r){var t=s.apply(e,a);function i(e){l(t,n,r,i,o,"next",e)}function o(e){l(t,n,r,i,o,"throw",e)}i(void 0)})}}function o(g,e,i,t,o,n,r,a,s,m,l,c,u){g.loginFormData={forgotCredentialsUrl:f.EnvironmentUrls.websiteUrl+m.urls.forgotCredentials,homeUrl:f.EnvironmentUrls.websiteUrl+m.urls.home,loginPageUrl:f.EnvironmentUrls.websiteUrl+m.urls.login},g.loginLayout={isFirstSubmit:!0},g.forms={},g.loginParams=g.loginParams||{},g.crossDeviceLoginParams={},g.invalidCredentialsCount=0,g.securityQuestionParameter=null,g.numberOfFailedTwoStepVerificationChallengeAttempts=0,g.loginPageIXP={Enabled:!1,ButtonText:"",InvalidCredentialsExperimentEnabled:!1,LoginCredentialFailLimit:1,ErrorStart:"",ErrorLink:"",ErrorEnd:""};var d=g.$watch(function(){return g.loginParams},function(e){var n;e&&((n=f.ReactLoginService.utils.getURlParamValue(m.urlQueryNames.errorCode))&&!g.loginParams.redirectToLoginPageOnError?(e=f.ReactLoginService.utils.getURlParamValue(m.urlQueryNames.cType),g.loginFormData.credentialValue=f.ReactLoginService.utils.getURlParamValue(m.urlQueryNames.username),g.setEnteredCredentialType(e),g.loginLayout.error=g.getErrorMessage(parseInt(n,10))):g.loginFormData.credentialValue=null)},!0);window.addEventListener("OnCrossDeviceCodeValidated",function(e){g.crossDeviceLoginParams.code=e.detail.code,g.crossDeviceLoginParams.enteredCredentialType=e.detail.ctype,g.crossDeviceLoginParams.privateKey=e.detail.privateKey,g.setEnteredCredentialType(e.detail.ctype),g.loginLayout.isProcessing=!0,g.login()},!1),i.addEventListener("ReactCaptchaSuccess",function(e){e=e.detail.data;g.handleCaptchaSuccess(e)},!1),i.addEventListener("ReactCaptchaError",function(e){e=e.detail.errorCode;g.handleCaptchaError(e)},!1),g.$on("$destroy",function(){d()}),g.init=function(e){f.ReactLoginService.getAuthTokenMetadata().then(function(e){g.crossDeviceLoginParams.IsLoginCodeButtonDisplayed=null==e?void 0:e.IsLoginCodeButtonDisplayed,g.loginPageIXP.Enabled=(null==e?void 0:e.ShouldEnableCrossDeviceLoginInitiatorExperiments)&&v.default.isBrowserLanguageEnglish(),g.loginPageIXP.Enabled&&v.default.getIXPEnrollments(y.default.Login).then(function(e){g.loginPageIXP.ButtonText=e.CrossDeviceButtonText,g.$apply()})}),g.loginLayout.isProcessing=!1},g.handleCaptchaError=function(e){var n=f.ReactLoginService.utils.getLoginErrorCodeFromCaptchaErrorCode(e);t(function(){g.loginLayout.isProcessing=!1,g.setErrorMessage(n,!0)})},g.handleCaptchaSuccess=function(e){g.loginLayout.forceCaptcha=!1,g.loginFormData.enteredCredentialType===m.credentialTypes.authToken?g.login(e):g.submit(!1,e)},g.setEnteredCredentialType=function(e){e?g.loginFormData.enteredCredentialType=e:f.ReactLoginService.utils.isValidEmail(g.loginFormData.credentialValue)?g.loginFormData.enteredCredentialType=m.credentialTypes.email:f.ReactLoginService.utils.isPhoneNumber(g.loginFormData.credentialValue)?g.loginFormData.enteredCredentialType=m.credentialTypes.phone:g.loginFormData.enteredCredentialType=m.credentialTypes.username},g.login=function(e){var n=f.ReactLoginService.utils.isValidEmail(g.loginFormData.credentialValue),r=f.ReactLoginService.utils.isPhoneNumber(g.loginFormData.credentialValue),t=g.loginFormData.enteredCredentialType===m.credentialTypes.authToken;g.loginFormData.isDefaultLoginRequired||t||(n?g.loginFormData.enteredCredentialType=m.credentialTypes.email:r&&(g.loginFormData.enteredCredentialType=m.credentialTypes.phone)),n||r||c.clear();t={cvalue:t?g.crossDeviceLoginParams.code:g.loginFormData.credentialValue,ctype:(t?g.crossDeviceLoginParams:g.loginFormData).enteredCredentialType,password:t?g.crossDeviceLoginParams.privateKey:g.loginFormData.password};null!=e&&(t.captchaId=e.captchaId,t.captchaToken=e.captchaToken,t.captchaProvider=e.captchaProvider),null!==g.securityQuestionParameter&&(t.securityQuestionSessionId=g.securityQuestionParameter.sessionId,t.securityQuestionRedemptionToken=g.securityQuestionParameter.redemptionToken),s.login(t).then(function(e){f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.success);var n,e=e.data;e&&e.tl?n=e.tl:e&&e.twoStepVerificationData&&(n=e.twoStepVerificationData.ticket),n?(g.userId=e.user.id,g.challengeId=n,n={userId:e.user.id,challengeId:n,onChallengeCompleted:g.receiveTwoStepChallengeToken,onChallengeInvalidated:g.handleInvalidatedTwoStepVerificationChallenge,onModalChallengeAbandoned:g.on2svModalChallengeAbandoned,onUnknownError:g.showUnknownError},n=new CustomEvent("render2svChallenge",{detail:{inputParams:n}}),window.dispatchEvent(n)):e&&e.identityVerificationLoginTicket?(f.ReactIdentityVerificationService.storeIdentityVerificationLoginTicket(e.identityVerificationLoginTicket),g.showIdentityVerificationNoticeModal()):i.location.href=g.getRedirectUrl(e)},function(e){g.handleLoginError(e.data,e.status)})},g.on2svModalChallengeAbandoned=function(){t(function(){g.loginLayout.isProcessing=!1})},g.handleInvalidatedTwoStepVerificationChallenge=function(){g.numberOfFailedTwoStepVerificationChallengeAttempts+=1,g.loginLayout.error=a.get("Response.VerificationError"),g.numberOfFailedTwoStepVerificationChallengeAttempts<m.retryAttempts.maxInvalidatedChallengeAttempts?g.login():g.loginLayout.error=a.get("Response.VerificationError")},g.receiveTwoStepChallengeToken=function(e){e={challengeId:g.challengeId,verificationToken:e.verificationToken,rememberDevice:e.rememberDevice};f.ReactLoginService.loginWithVerificationToken(g.userId,e).then(function(e){var n;e?(n=r.getAbsoluteUrl("/"),e.identityVerificationLoginTicket?(f.ReactIdentityVerificationService.storeIdentityVerificationLoginTicket(data.identityVerificationLoginTicket),g.showIdentityVerificationNoticeModal()):g.loginParams.returnUrl?(n=g.loginParams.returnUrl,i.location.href=g.twoStepVerificationReturnUrl):(g.loginParams.redirectToHomePostLogin||(n=g.getCurrentLocation()),i.location.href=n)):g.loginLayout.error=a.get("Response.VerificationError")}).catch(function(){g.showUnknownError()})},g.getInvalidCredentialsEnrollments=C(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.default.getIXPEnrollments(y.default.InvalidCredentials);case 2:n=e.sent,g.loginPageIXP.InvalidCredentialsExperimentEnabled=!(null==n||!n.CrossDeviceLoginFailErrorText),g.loginPageIXP.InvalidCredentialsExperimentEnabled&&(g.loginPageIXP.LoginCredentialFailLimit=n.CrossDeviceLoginFailLimit||1,n=n.CrossDeviceLoginFailErrorText.split("|"),n=h(n,3),g.loginPageIXP.ErrorStart=n[0],g.loginPageIXP.ErrorLink=n[1],g.loginPageIXP.ErrorEnd=n[2]),g.applyInvalidCredentialsEnrollments(),g.$apply();case 7:case"end":return e.stop()}},e)})),g.applyInvalidCredentialsEnrollments=function(){g.loginLayout.showCrossDeviceError=g.loginPageIXP.InvalidCredentialsExperimentEnabled&&g.loginLayout.error&&g.invalidCredentialsCount>=g.loginPageIXP.LoginCredentialFailLimit},g.handleLoginError=function(e,n){if(n!==m.statusCodes.flooded){var r=e&&e.errors&&0<e.errors.length&&e.errors[0].code;switch(r){case m.errorCodes.captcha:var t="",i="";if(e.errors&&0<e.errors.length&&e.errors[0].fieldData){var o,a=e.errors[0].fieldData;if(null!=a)try{t=(o=JSON.parse(a)).dxBlob,i=o.unifiedCaptchaId}catch(e){t=a}}var s=new CustomEvent("CaptchaDataOptionsUpdated",{detail:{inputParams:{unifiedCaptchaId:i,dataExchange:t}}});return window.dispatchEvent(s),g.activateCaptcha(!0),g.loginLayout.isProcessing=!1,void f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.captcha);case m.errorCodes.passwordResetRequired:return f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.passwordResetRequired),void f.ReactLoginService.utils.navigateToSecurityNotificationPage();case m.errorCodes.securityQuestionRequired:f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.securityQuestionRequired);var l="",c="";if(e.errors&&0<e.errors.length&&e.errors[0].fieldData){var u,d=e.errors[0].fieldData;if(null!=d)try{l=(u=JSON.parse(d)).userId,c=u.sessionId}catch(e){}}return""===l||""===c?(g.loginLayout.isProcessing=!1,void g.showUnknownError()):void g.launchSecurityQuestions(l,c)}r===m.errorCodes.unverifiedCredentials&&g.loginFormData.enteredCredentialType===m.credentialTypes.email?(f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.unverifiedAccount),n={credentialType:m.credentialTypes.email,credentialValue:g.loginFormData.credentialValue,password:g.loginFormData.password},f.ReactLoginService.canVerifyCredentials(n).then(function(e){e&&e.canSend?(g.promptUserToVerifyEmail(),g.loginLayout.isProcessing=!1):g.setErrorMessage(r)},function(){g.setErrorMessage(r)})):g.setErrorMessage(r,!0),r===m.errorCodes.badCredentials&&(g.invalidCredentialsCount+=1,g.loginPageIXP.Enabled&&(g.loginFailureEnrolled?g.applyInvalidCredentialsEnrollments():(g.loginFailureEnrolled=!0,g.getInvalidCredentialsEnrollments())))}else g.setErrorMessage(m.errorCodes.tooManyAttempts,!0)},g.promptUserToVerifyEmail=function(){n.open({backdrop:"static",templateUrl:m.templates.verifyEmail,controller:m.controllers.verifyEmail,resolve:{injectedData:{context:g.loginParams.context,email:g.loginFormData.credentialValue,password:g.loginFormData.password}}}).result.then(p().noop,p().noop)},g.setErrorMessage=function(e,n){var r=e===m.errorCodes.defaultLoginRequired||e===m.errorCodes.unverifiedCredentials;if(g.loginParams.redirectToLoginPageOnError||g.loginParams.redirectToLoginPageWhenUsernameIsRequired&&r){var t={errorCode:e,ctype:g.loginFormData.enteredCredentialType};return r||(t.username=g.loginFormData.credentialValue),f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.redirectToLogin),void(i.location.href=g.loginFormData.loginPageUrl+l.urlQueryStringPrefix+o(t))}g.loginLayout.isProcessing=!1,g.loginLayout.error=g.getErrorMessage(e,n),g.loginLayout.showCrossDeviceError=!1},g.getErrorMessage=function(e,n){switch(e){case m.errorCodes.badCredentials:return n&&f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.invalidCredentials),g.getInvalidCredentialsErrorMessage();case m.errorCodes.accountNotFound:return n&&f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.accountNotFound),a.get("Response.AccountNotFound");case m.errorCodes.accountIssue:return n&&f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.accountIssue),a.get("Response.AccountIssueErrorContactSupport");case m.errorCodes.tooManyAttempts:return n&&f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.tooManyAttempts),a.get("Response.TooManyAttemptsPleaseWait");case m.errorCodes.defaultLoginRequired:n&&f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.defaultLoginRequired);var r=g.getDefaultLoginRequiredErrorMessage();return g.handleDefaultLoginRequired(r),null;case m.errorCodes.unverifiedCredentials:n&&f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.unverifiedAccount);r=g.getUnverifiedCredentialsErrorMessage();return g.handleDefaultLoginRequired(r),null;case m.errorCodes.captchaLoadFailed:return n&&f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.captchaLoadFailed),a.get("Response.CaptchaErrorFailedToLoad");case m.errorCodes.captchaVerifyFailed:return n&&f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.captchaVerifyFailed),a.get("Response.CaptchaErrorFailedToVerify");case m.errorCodes.luoBuUserDenied:return n&&f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.luoBuUserDenied),a.get("Response.GlobalAppAccessError");case m.errorCodes.captchaUnknownError:return n&&f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.captchaUnknownError),a.get("Message.UnknownErrorTryAgain");case m.errorCodes.screentimeRestricted:return n&&f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.screentimeRestricted),a.get("Description.CurfewMessage");default:return n&&f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.unknownError),a.get("Message.UnknownErrorTryAgain")}},g.activateCaptcha=function(e){g.loginLayout.forceCaptcha=e,g.loginLayout.isProcessing=!1},g.getInvalidCredentialsErrorMessage=function(){switch(g.loginFormData.enteredCredentialType){case m.credentialTypes.email:return a.get("Response.IncorrectEmailOrPassword");case m.credentialTypes.phone:return a.get("Response.IncorrectPhoneOrPassword");default:return a.get("Response.IncorrectUsernamePassword")}},g.getDefaultLoginRequiredErrorMessage=function(){switch(g.loginFormData.enteredCredentialType){case m.credentialTypes.email:return a.get("Response.EmailLinkedToMultipleAccountsLoginWithUsername");case m.credentialTypes.phone:return a.get("Response.LoginWithUsername");default:return""}},g.getUnverifiedCredentialsErrorMessage=function(){switch(g.loginFormData.enteredCredentialType){case m.credentialTypes.email:return a.get("Response.UnverifiedEmailLoginWithUsername");case m.credentialTypes.phone:return a.get("Response.UnverifiedPhoneLoginWithUsername");default:return""}},g.handleDefaultLoginRequired=function(e){g.loginFormData.isDefaultLoginRequired=!0,g.loginFormData.credentialValue=null,g.loginFormData.password=null,e&&c.warning(e)},g.getRedirectUrl=function(e){var n=g.loginParams.returnUrl;if(e&&(e.userId||e.user&&e.user.id)){if(n){n=g.addNewLoginQueryStringToUrl(n);return r.getAbsoluteUrl(n)}return g.loginParams.redirectToHomePostLogin?g.loginFormData.homeUrl+l.urlQueryStringPrefix+o({nl:!0}):e.identityVerificationLoginTicket?(f.ReactIdentityVerificationService.storeIdentityVerificationLoginTicket(e.identityVerificationLoginTicket),r.getAbsoluteUrl(m.urls.koreaIdVerification)):g.getCurrentLocation()}return r.getAbsoluteUrl("/")},g.getCurrentLocation=function(){var e=i.location.href,n=e?e.indexOf(l.hashSign):-1;return-1<n&&(e=e.slice(0,-1*(e.length-n))),g.addNewLoginQueryStringToUrl(e)},g.addNewLoginQueryStringToUrl=function(e){if(!e)return"/";var n=e;return-1<e.indexOf(l.urlQueryStringPrefix)?n+=l.urlQueryParameterSeparator:n+=l.urlQueryStringPrefix,n+=m.newLoginQueryString},g.sendInteractionClickEvent=function(e){f.FormEvents&&f.FormEvents.SendInteractionClick(g.loginParams.context,e)},g.quickLogin=function(){g.sendInteractionClickEvent(m.quickLoginButtonName),f.CrossDeviceLoginDisplayCodeService.openModal()},g.showUnknownError=function(){g.loginLayout.error=a.get("Message.UnknownErrorTryAgain")},g.launchSecurityQuestions=function(e,r){e={userId:e.toString(),sessionId:r,onChallengeCompleted:function(e){var n=e.redemptionToken;t(function(){g.securityQuestionParameter={sessionId:r,redemptionToken:n},g.loginFormData.enteredCredentialType===m.credentialTypes.authToken?g.login(null):g.submit(!1,null),g.securityQuestionParameter=null})},onChallengeInvalidated:function(){t(function(){g.securityQuestionParameter=null,g.login(null)})},onModalChallengeAbandoned:function(){t(function(){g.loginLayout.isProcessing=!1})},onUnknownError:g.showUnknownError},e=new CustomEvent("renderSecurityQuestionsChallenge",{detail:{inputParams:e}});window.dispatchEvent(e)},g.showIdentityVerificationNoticeModal=function(){u.open({titleText:a.get("Title.VerificationRequired"),bodyText:a.get("Description.VerificationRequired"),neutralButtonText:a.get("Action.StartVerification"),onNeutral:f.ReactIdentityVerificationService.startIdentityVerification}).result.then(function(){},function(){f.ReactIdentityVerificationService.startIdentityVerification()})},g.submit=function(e,n){g.clearError(),g.loginFormData.credentialValue&&g.loginFormData.password?(e&&(g.sendInteractionClickEvent(m.loginSubmitButtonName),f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.attempt),g.loginLayout.isFirstSubmit&&(g.loginLayout.isFirstSubmit=!1,f.ReactLoginService.utils.incrementEphemeralCounter(m.counters.firstAttempt))),g.loginLayout.isProcessing=!0,g.loginFormData.enteredCredentialType=m.credentialTypes.username,g.login(n)):g.loginParams.redirectToLoginPageOnError||(g.loginLayout.error=a.get("Message.UsernameAndPasswordRequired"))},g.clearError=function(){g.loginLayout.error=null,g.loginLayout.showCrossDeviceError=!1},g.getCredentialPlaceholder=function(){return g.loginFormData.isDefaultLoginRequired?a.get("Label.Username"):a.get("Label.UsernameEmailPhone")}}o.$inject=["$scope","$injector","$window","$timeout","$httpParamSerializerJQLike","$uibModal","urlService","languageResource","loginService","loginConstants","urlConstants","systemFeedbackService","modalService"],t.Z.controller("loginFormController",o),n.default=o},6024:function(e,n,r){"use strict";r.r(n);r=r(1030);function t(n,r,t,i,o,a){n.layout={},n.init=function(){n.layout.headerText=o.get("Label.EmailNeedsVerification"),r.sendModalShownEvent(a.context+i.verifyEmailContextSuffix)},n.sendVerificationEmail=function(){n.layout.error=null,n.layout.isSubmitBusy=!0;var e={credentialType:i.credentialTypes.email,credentialValue:a.email,password:a.password};t.verifyCredentials(e).then(function(){n.layout.headerText=o.get("Label.VerificationEmailSent"),n.layout.emailSent=!0,n.sendSendVerificationEmailEvent(!0)},function(e){(e&&e.data&&e.data.errors&&0<e.data.errors.length&&e.data.errors[0].code)===i.sendVerificationEmailErrorCodes.tooManyAttempts?n.layout.error=o.get("Response.TooManyAttemptsPleaseWait"):n.layout.error=o.get("Message.UnknownErrorTryAgain"),n.sendSendVerificationEmailEvent(!1)}).finally(function(){n.layout.isSubmitBusy=!1})},n.sendSendVerificationEmailEvent=function(e,n){r.sendEventWithTarget(r.eventNames.account.sendVerificationEmail,a.context+i.verifyEmailContextSuffix,{success:e,msg:n})},n.init()}t.$inject=["$scope","eventStreamService","loginService","loginConstants","languageResource","injectedData"],r.Z.controller("verifyEmailController",t),n.default=t},5008:function(e,n,r){"use strict";function t(){return{restrict:"A",replace:!1,templateUrl:"login-base",controller:"loginController",link:function(e,n,r){e.loginBaseParams={returnUrl:r.returnUrl}}}}r.r(n),r(1030).Z.directive("loginBase",t),n.default=t},5578:function(e,n,r){"use strict";function t(){return{restrict:"A",replace:!1,templateUrl:"login-form",controller:"loginFormController",scope:{},link:function(e,n,r){e.loginParams={context:r.context,redirectToLoginPageOnError:"true"===r.redirectToLoginPageOnError,redirectToHomePostLogin:"true"===r.redirectToHomePostLogin,redirectToLoginPageWhenUsernameIsRequired:"true"===r.redirectToLoginPageWhenUsernameIsRequired,includeMessageBanner:"true"===r.includeMessageBanner,returnUrl:r.returnUrl}}}}r.r(n),r(1030).Z.directive("loginForm",t),n.default=t},1030:function(e,n,r){"use strict";var a=r(792),t=r(5734),t=r.n(t)().module("login",["robloxApp","roblox.formEvents","modal","captchaV2","systemFeedback"]).config(["languageResourceProvider",function(e){var n=new a.TranslationResourceProvider,r=n.getTranslationResource("Authentication.Login"),t=n.getTranslationResource("Authentication.Captcha"),t=n.getTranslationResource("Common.Captcha"),i=n.getTranslationResource("Feature.Screentime"),o=n.getTranslationResource("Authentication.TwoStepVerification"),n=n.getTranslationResource("Feature.IdVerification");e.setTranslationResources([r,t,i,o,n])}]);n.Z=t},5387:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return o}});var t=r(792),i=CoreUtilities,o={getIXPEnrollments:function(e){var n={url:"".concat(t.EnvironmentUrls.apiGatewayUrl,"/product-experimentation-platform/v1/projects/1/layers/").concat(e.Layer,"/values"),withCredentials:!0},e={parameters:e.Parameters.join(",")};return i.httpService.get(n,e).then(function(e){return null!=e&&e.data?e.data:Promise.reject()})},isBrowserLanguageEnglish:function(){return/^en\b/.test(navigator.language)}}},4260:function(e,n,r){"use strict";r.r(n);var o=r(792),r=r(1030);function t(i,r){function t(e){return o.EnvironmentUrls.authApi+e}return{login:function(e){var n={url:t(r.urls.loginApi)};return i.httpPost(n,e,!0)},getReturnUrl:function(){return window.Roblox.Auth&&window.Roblox.Auth.returnUrl},loginWithVerificationToken:function(e,n,r,t){return i.httpPost({url:"".concat(o.EnvironmentUrls.authApi,"/v3/users/").concat(e,"/two-step-verification/login")},{challengeId:n,verificationToken:r,rememberDevice:t})},verifyCredentials:function(e){var n={url:t(r.urls.credentialsVerificationSendApi)};return i.httpPost(n,e,!0)}}}t.$inject=["httpService","loginConstants"],r.Z.factory("loginService",t),n.default=t},1518:function(e){e.exports='<div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span><span class="sr-only" ng-bind="\'Action.Ok\' | translate"></span> </button> <h4 ng-bind="layout.headerText"></h4> </div> <div class="modal-body"> <div ng-class="{\'form-has-error form-has-feedback\' : layout.error}"> <div ng-bind="\'Label.UnverifiedEmailInstructions\' | translate"> </div> <p class="form-control-label" ng-bind="layout.error"> </p> </div> </div> <div class="modal-footer"> <div toggle-loading is-loading="layout.isSubmitBusy"> <button type="submit" class="btn-secondary-md btn-full-width" ng-click="sendVerificationEmail()" ng-show="!layout.emailSent" ng-bind="\'Action.SendVerificationEmail\' | translate"></button> <button type="submit" class="btn-fixed-width btn-control-md" ng-click="$dismiss()" ng-show="layout.emailSent" ng-bind="\'Action.Ok\' | translate"></button> <div ng-show="layout.emailSent" class="resend-email-container"> <span ng-bind="\'Label.NotReceived\' | translate"></span> <span ng-click="sendVerificationEmail()" class="text-link resend-email-link" ng-bind="\'Action.ResendEmail\' | translate"> </span> </div> </div> </div>'},5686:function(e){e.exports='<div id="login-base"> <div class="section-content login-section"> <h2 class="login-header" ng-bind="\'Heading.LoginRoblox\' | translate"></h2> <div login-form context="loginPage" redirect-to-home-post-login="false" include-message-banner="true" data-return-url="{{loginBaseParams.returnUrl}}"> </div> <div class="text-center"> <div class="signup-option"> <span class="no-account-text" ng-bind="\'Label.NoAccount\' | translate"></span> <a id="sign-up-link" class="text-link signup-link" href="{{loginData.signUpUrl}}" target="_self" ng-bind="\'Action.SignUpCapitalized\' | translate"></a> </div> </div>'},367:function(e){e.exports='<div id="login-form"> <div ng-init="init(\'login\')"> <system-feedback ng-if="loginParams.includeMessageBanner"></system-feedback> <div class="login-form-container"> <form class="login-form" role="form" name="loginForm" rbx-form-context context="{{loginParams.context}}"> <div class="form-group username-form-group"> <input id="login-username" name="username" type="text" class="form-control input-field" placeholder="{{getCredentialPlaceholder()}}" ng-model="loginFormData.credentialValue" ng-keypress="clearError()" rbx-form-interaction/> </div> <div class="form-group password-form-group"> <input id="login-password" name="password" type="password" class="form-control input-field" placeholder="{{\'Label.Password\' | translate}}" ng-model="loginFormData.password" key-press-enter="submit(true)" ng-keypress="clearError()" rbx-form-interaction/> <p class="form-control-label xsmall text-error login-error" ng-bind="loginLayout.error" ng-show="!loginLayout.showCrossDeviceError"> </p> <p class="form-control-label xsmall text-error login-error" ng-show="loginLayout.showCrossDeviceError"> <span ng-bind="loginPageIXP.ErrorStart"/> <u><a ng-click="quickLogin()" ng-bind="loginPageIXP.ErrorLink"/></u> <span ng-bind="loginPageIXP.ErrorEnd"/> </p> </div> <div toggle-loading is-loading="loginLayout.isProcessing"> <button id="login-button" class="btn-full-width login-button" ng-class="loginLayout.usePrimaryButtonClass ? \'btn-primary-md\' : \'btn-secondary-md\'" ng-bind="\'Action.LogInCapitalized\' | translate" ng-click="submit(true)"></button> </div> <div class="text-center forgot-credentials-link"> <a id="forgot-credentials-link" class="text-link" href="{{loginFormData.forgotCredentialsUrl}}" target="_self" ng-bind="\'Action.ForgotPasswordOrUsernameQuestionCapitalized\' | translate"></a> </div> </form> <div> <div class="fb-divider-container"> <div class="rbx-divider fb-divider"></div> <div class="divider-text-container"> <span class="divider-text xsmall" ng-bind="\'Label.LoginWithYour\' | translate"></span> </div> </div> <button ng-if="crossDeviceLoginParams.IsLoginCodeButtonDisplayed" id="cross-device-login-button" class="btn-full-width btn-control-md cross-device-login-button" ng-click="quickLogin()"> <span ng-bind="(!!loginPageIXP.ButtonText) ? loginPageIXP.ButtonText :\r\n                    (\'Action.DeviceCode\' | translate)"></span> </button> </div> </div> <div id="crossDeviceLoginDisplayCodeModal-container"> <div crossDeviceLoginDisplayCodeModal-container></div> </div> <div id="react-login-container"></div> </div> </div> '},792:function(e){"use strict";e.exports=Roblox},5734:function(e){"use strict";e.exports=angular}},t={};function o(e){if(t[e])return t[e].exports;var n=t[e]={exports:{}};return r[e](n,n.exports,o),n.exports}o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,{a:n}),n},o.d=function(e,n){for(var r in n)o.o(n,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=o(5734),n=o.n(e),r=o(726),t=o(1030);(0,r.importFilesUnderPath)(o(7544)),(0,r.importFilesUnderPath)(o(6474)),(0,r.importFilesUnderPath)(o(8126)),(0,r.importFilesUnderPath)(o(5286));var e=o(3599),i=(0,r.templateCacheGenerator)(n(),"loginAppTemplates",e);n().element(function(){n().bootstrap("#login-container",[t.Z.name,i.name])})}()}();
//# sourceMappingURL=https://js.rbxcdn.com/5e743ec2a3b1ce57da4d-login.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("Login");